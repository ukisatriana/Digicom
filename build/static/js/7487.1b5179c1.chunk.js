"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[7487],{1166:function(e,t,r){var n,a=r(168),c=r(9439),i=r(2791),s=r(364),o=r(2554),u=r(6443),p=r(4923);t.Z=function(e){var t=e.children,r=e.background,d=e.className,v=e.overlap,l=(0,i.useState)(0),f=(0,c.Z)(l,2),m=f[0],h=f[1],Z=(0,i.useRef)(null),x=(0,s.v9)((function(e){return e.theme.navType})),g=(0,s.v9)((function(e){return e.theme.currentTheme}));(0,i.useEffect)((function(){if(x===u.XA){var e=window.innerWidth,t=Z.current.offsetWidth;h((e-t)/2)}}),[x]);return(0,p.tZ)("div",{ref:Z,css:(0,o.iv)(n||(n=(0,a.Z)(["\n\t\t\t\tbackground-color: ",";\n\t\t\t\tpadding: ","px;\n\t\t\t\tmargin-top: -","px;\n\t\t\t\tmargin-left: -","px;\n\t\t\t\tmargin-right: -","px;\n\n\t\t\t\t@media "," {\n\t\t\t\t\tmargin-left: -","px;\n        \t\t\tmargin-right: -","px;\n\t\t\t\t}\n\n\t\t\t\t","\n\t\t\t"])),"dark"===g?"#2f3a50":u.wx.WHITE,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.qk.MOBILE,u.hv.LAYOUT_CONTENT_GUTTER_SM,u.hv.LAYOUT_CONTENT_GUTTER_SM,v?"margin-bottom: -4.6875rem;":""),className:"page-header-alt ".concat(d||""),style:function(){var e={backgroundImage:r?"url(".concat(r,")"):"none"};return x===u.XA&&(e.marginRight=-m,e.marginLeft=-m,e.paddingLeft=0,e.paddingRight=0),e}(),children:x===u.XA?(0,p.tZ)("div",{className:"container",children:t}):(0,p.tZ)(p.HY,{children:t})})}},8470:function(e,t,r){var n=r(1413),a=r(4236).Z.div((function(e){var t=e.justifyContent,r=e.alignItems,a=e.flexDirection,c=e.gap,i=e.padding,s=e.margin,o={display:"flex",justifyContent:t,alignItems:r,gap:"number"===typeof c?"".concat(c,"px"):c};return a&&(o.flexDirection=a),i&&(o.padding=i),s&&(o.margin=s),(0,n.Z)({},o)}));t.Z=a},4276:function(e,t,r){var n=r(4942),a=r(1413),c=r(4165),i=r(5861),s=r(5020),o=r(6724),u={};u.createDocument=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.ET)((0,o.hJ)(s.db,t),r);case 3:return n=e.sent,e.abrupt("return",n.id);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error adding document: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),u.getDocuments=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t){var r,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.PL)((0,o.hJ)(s.db,t));case 3:return r=e.sent,n=r.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error getting documents: "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u.getDocument=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r){var n,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.JU)(s.db,t,r),e.next=4,(0,o.QT)(n);case 4:if(!(a=e.sent).exists()){e.next=9;break}return e.abrupt("return",a.data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),u.updateDocument=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r,n){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.JU)(s.db,t,r),e.next=4,(0,o.r7)(a,n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}(),u.deleteDocument=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.JU)(s.db,t,r),e.next=4,(0,o.oe)(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error deleting document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),u.addToArray=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r,a,i){var u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,o.JU)(s.db,t,r),e.next=4,(0,o.r7)(u,(0,n.Z)({},a,(0,o.vr)(i)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error adding to array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),u.removeFromArray=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r,a,i){var u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,o.JU)(s.db,t,r),e.next=4,(0,o.r7)(u,(0,n.Z)({},a,(0,o.Ab)(i)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error removing from array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),u.updateNestedMap=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r,a,i,u){var p;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p=(0,o.JU)(s.db,t,r),e.next=4,(0,o.r7)(p,(0,n.Z)({},"".concat(a,".").concat(i),u));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating nested map: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),u.getDocumentByField=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,r,n){var a,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.IO)((0,o.hJ)(s.db,t),(0,o.ar)(r,"==",n)),e.next=4,(0,o.PL)(a);case 4:if((i=e.sent).empty){e.next=9;break}return e.abrupt("return",i.docs[0].data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t.Z=u},7487:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(4165),a=r(5861),c=r(9439),i=r(2791),s=r(1166),o=r(7615),u=r(6988),p=r(7309),d=r(3640),v=r(8470),l=r(4276),f=r(7689),m=r(4942),h=r(1413),Z=r(7888),x=r(6106),g=r(914),j=r(376),D=r(184),w={projectDivisiNameR:[{required:!0,message:"Please enter Project Divisi"}],projectDivisiKetR:[{required:!0,message:"Please enter Project Divisi Keterangan"}]},b=function(){var e=i.useState({projectDivisiName:"",projectDivisiKet:""}),t=(0,c.Z)(e,2),r=t[0],n=t[1];function a(e){var t=e.target,a=t.name,c=t.value;n((0,h.Z)((0,h.Z)({},r),{},(0,m.Z)({},a,c)))}return(0,D.jsx)(Z.Z,{title:"Project Type",children:(0,D.jsxs)(x.Z,{gutter:16,children:[(0,D.jsx)(g.Z,{span:24,children:(0,D.jsx)(o.Z.Item,{name:"projectDivisiName",label:"Project Divisi Name",rules:w.projectDivisiNameR,children:(0,D.jsx)(j.Z,{placeholder:"Enter Project Name",type:"text",value:r.projectDivisiName,name:"projectDivisiName",onChange:function(e){return a(e)}})})}),(0,D.jsx)(g.Z,{span:24,children:(0,D.jsx)(o.Z.Item,{name:"projectDivisiKet",label:"Project Divisi Desc",rules:w.projectDivisiKetR,children:(0,D.jsx)(j.Z,{placeholder:"Enter Project Divisi Desc",type:"text",value:r.projectDivisiKet,name:"projectDivisiKet",onChange:function(e){return a(e)}})})})]})})},E="ADD",T="EDIT",k=function(e){var t=e.mode,r=void 0===t?E:t,m=e.param,h=o.Z.useForm(),Z=(0,c.Z)(h,1)[0],x=(0,i.useState)(!1),g=(0,c.Z)(x,2),j=g[0],w=g[1],k=(0,f.s0)();(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==T){e.next=12;break}return t=m.id,e.prev=2,e.next=5,l.Z.getDocument("projectDivisi",t);case 5:a=e.sent,Z.setFieldsValue(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u.ZP.error("Error fetching document: "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z,r,m]);var y=function(){w(!0),Z.validateFields().then((function(e){setTimeout((function(){w(!1),r===E&&(u.ZP.success("Created ".concat(e.projectDivisiName," to projectDivisi")),k("/app/apps/option/project-divisi/project-divisi-list")),r===T&&(u.ZP.success("Product saved"),k("/app/apps/option/project-divisi/project-divisi-list"))}),1500)})).catch((function(e){w(!1)}))},N=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r!==E){e.next=8;break}return e.next=4,l.Z.createDocument("projectDivisi",t);case 4:a=e.sent,u.ZP.success("Project Divisi created with ID: ".concat(a)),e.next=13;break;case 8:if(r!==T){e.next=13;break}return c=m.id,e.next=12,l.Z.updateDocument("projectDivisi",c,t);case 12:u.ZP.success("Project Divisi updated successfully");case 13:Z.resetFields(),y(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),u.ZP.error("Error creating/updating Project Divisi: "+e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(o.Z,{layout:"vertical",form:Z,name:"advanced_search",className:"ant-advanced-search-form",initialValues:{projectDivisiName:"",projectDivisiKet:""},onFinish:N,children:[(0,D.jsx)(s.Z,{className:"border-bottom",overlap:!0,children:(0,D.jsx)("div",{className:"container",children:(0,D.jsxs)(v.Z,{className:"py-2",mobileFlex:!1,justifyContent:"space-between",alignItems:"center",children:[(0,D.jsxs)("h2",{className:"mb-3",children:["ADD"===r?"Add New Project Divisi":"Edit Project Divisi"," "]}),(0,D.jsxs)("div",{className:"mb-3",children:[(0,D.jsx)(p.ZP,{className:"mr-2",onClick:function(){Z.resetFields()},children:"Discard"}),(0,D.jsx)(p.ZP,{type:"primary",onClick:function(){return y()},htmlType:"submit",loading:j,children:"ADD"===r?"Add":"Save"})]})]})})}),(0,D.jsx)("div",{className:"container",children:(0,D.jsx)(d.Z,{defaultActiveKey:"1",style:{marginTop:30},items:[{label:"Project Divisi Field",key:"1",children:(0,D.jsx)(b,{})}]})})]})})}},2554:function(e,t,r){r.d(t,{iv:function(){return a}});r(2791),r(6215),r(2110);var n=r(9041);r(2561);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.O)(t)}},4923:function(e,t,r){r.d(t,{BX:function(){return s},HY:function(){return c},tZ:function(){return i}});r(2791),r(6215);var n=r(9886),a=(r(2110),r(9041),r(2561),r(184)),c=a.Fragment;function i(e,t,r){return n.h.call(t,"css")?(0,a.jsx)(n.E,(0,n.c)(e,t),r):(0,a.jsx)(e,t,r)}function s(e,t,r){return n.h.call(t,"css")?(0,a.jsxs)(n.E,(0,n.c)(e,t),r):(0,a.jsxs)(e,t,r)}}}]);
//# sourceMappingURL=7487.1b5179c1.chunk.js.map