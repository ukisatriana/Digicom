"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[1577],{872:function(e,r,t){t(2791);var n=t(2385),a=t(3388),c=t(5033),o=t(184),u=function(e){return(0,o.jsx)(n.Z,{menu:{items:e.menu},placement:e.placement,trigger:[e.trigger],children:(0,o.jsx)("div",{className:"ellipsis-dropdown",children:(0,o.jsx)(c.Z,{})})})};u.defaultProps={trigger:"click",placement:"bottomRight",menu:(0,o.jsx)(a.Z,{})},r.Z=u},8470:function(e,r,t){var n=t(1413),a=t(4236).Z.div((function(e){var r=e.justifyContent,t=e.alignItems,a=e.flexDirection,c=e.gap,o=e.padding,u=e.margin,i={display:"flex",justifyContent:r,alignItems:t,gap:"number"===typeof c?"".concat(c,"px"):c};return a&&(i.flexDirection=a),o&&(i.padding=o),u&&(i.margin=u),(0,n.Z)({},i)}));r.Z=a},4276:function(e,r,t){var n=t(4942),a=t(1413),c=t(4165),o=t(5861),u=t(5020),i=t(6724),s={};s.createDocument=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.ET)((0,i.hJ)(u.db,r),t);case 3:return n=e.sent,e.abrupt("return",n.id);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error adding document: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,t){return e.apply(this,arguments)}}(),s.getDocuments=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.PL)((0,i.hJ)(u.db,r));case 3:return t=e.sent,n=t.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error getting documents: "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),s.getDocument=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t){var n,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,i.JU)(u.db,r,t),e.next=4,(0,i.QT)(n);case 4:if(!(a=e.sent).exists()){e.next=9;break}return e.abrupt("return",a.data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r,t){return e.apply(this,arguments)}}(),s.updateDocument=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t,n){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,i.JU)(u.db,r,t),e.next=4,(0,i.r7)(a,n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t,n){return e.apply(this,arguments)}}(),s.deleteDocument=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,i.JU)(u.db,r,t),e.next=4,(0,i.oe)(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error deleting document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t){return e.apply(this,arguments)}}(),s.addToArray=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t,a,o){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=(0,i.JU)(u.db,r,t),e.next=4,(0,i.r7)(s,(0,n.Z)({},a,(0,i.vr)(o)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error adding to array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t,n,a){return e.apply(this,arguments)}}(),s.removeFromArray=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t,a,o){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=(0,i.JU)(u.db,r,t),e.next=4,(0,i.r7)(s,(0,n.Z)({},a,(0,i.Ab)(o)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error removing from array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t,n,a){return e.apply(this,arguments)}}(),s.updateNestedMap=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t,a,o,s){var l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=(0,i.JU)(u.db,r,t),e.next=4,(0,i.r7)(l,(0,n.Z)({},"".concat(a,".").concat(o),s));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating nested map: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t,n,a,c){return e.apply(this,arguments)}}(),s.getDocumentByField=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(r,t,n){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,i.IO)((0,i.hJ)(u.db,r),(0,i.ar)(t,"==",n)),e.next=4,(0,i.PL)(a);case 4:if((o=e.sent).empty){e.next=9;break}return e.abrupt("return",o.docs[0].data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r,t,n){return e.apply(this,arguments)}}(),r.Z=s},2703:function(e,r,t){var n=t(5671),a=t(3144),c=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,null,[{key:"getNameInitial",value:function(e){var r=e.match(/\b\w/g)||[];return((r.shift()||"")+(r.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,r){if(e.path===r)return e;var t;for(var n in e)if(e.hasOwnProperty(n)&&"object"===typeof e[n]&&(t=this.getRouteInfo(e[n],r)))return t;return t}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var r=parseInt(a(e).substring(0,2),16),t=function(e){return parseInt(a(e).substring(2,4),16)}(e),n=function(e){return parseInt(a(e).substring(4,6),16)}(e);function a(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*r+587*t+114*n)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,r){var t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),a=parseInt(e.substring(5,7),16);t=parseInt(t*(100+r)/100),n=(n=parseInt(n*(100+r)/100))<255?n:255,a=(a=parseInt(a*(100+r)/100))<255?a:255;var c=1===(t=t<255?t:255).toString(16).length?"0".concat(t.toString(16)):t.toString(16),o=1===n.toString(16).length?"0".concat(n.toString(16)):n.toString(16),u=1===a.toString(16).length?"0".concat(a.toString(16)):a.toString(16);return"#".concat(c).concat(o).concat(u)}},{key:"rgbaToHex",value:function(e){var r=function(e){return e.replace(/^\s+|\s+$/gm,"")},t=e.substring(e.indexOf("(")).split(","),n=parseInt(r(t[0].substring(1)),10),a=parseInt(r(t[1]),10),c=parseInt(r(t[2]),10),o=parseFloat(r(t[3].substring(0,t[3].length-1))).toFixed(2),u=[n.toString(16),a.toString(16),c.toString(16),Math.round(255*o).toString(16).substring(0,2)];return u.forEach((function(e,r){1===e.length&&(u[r]="0"+e)})),"#".concat(u.join(""))}},{key:"getSignNum",value:function(e,r,t){return e>0?r:e<0?t:null}},{key:"antdTableSorter",value:function(e,r,t){return"number"===typeof e[t]&&"number"===typeof r[t]?e[t]-r[t]:"string"===typeof e[t]&&"string"===typeof r[t]?(e=e[t].toLowerCase())>(r=r[t].toLowerCase())?-1:r>e?1:0:void 0}},{key:"filterArray",value:function(e,r,t){var n=e;return e&&(n=e.filter((function(e){return e[r]===t}))),n}},{key:"deleteArrayRow",value:function(e,r,t){var n=e;return e&&(n=e.filter((function(e){return e[r]!==t}))),n}},{key:"wildCardSearch",value:function(e,r){return e=e.filter((function(e){return function(e){for(var t in e)if(null!=e[t]&&-1!==e[t].toString().toUpperCase().indexOf(r.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var r=[];for(var t in e){if(e.hasOwnProperty(t))e[t]&&r.push(t)}return r}}]),e}();r.Z=c},1577:function(e,r,t){t.r(r);var n=t(1413),a=t(4165),c=t(5861),o=t(9439),u=t(2791),i=t(814),s=t(6988),l=t(7888),d=t(7309),f=t(7008),p=t(1180),m=t(2622),g=t(1549),v=t(872),h=t(8470),Z=t(7689),w=t(4276),x=t(6724),b=t(5020),y=t(2703),k=t(184);r.default=function(){var e=(0,Z.s0)(),r=(0,u.useState)(),t=(0,o.Z)(r,2),S=t[0],E=t[1],I=(0,u.useState)([]),j=(0,o.Z)(I,2),C=j[0],D=j[1],N=(0,u.useState)([]),U=(0,o.Z)(N,2),R=U[0],A=U[1];(0,u.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.Z.getDocuments("systemDrawing");case 3:r=e.sent,E(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching documents: ",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var J=function(r){e("/app/apps/general-input/systemsub-drawing/systemsub-drawing-edit/".concat(r.id))},L=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.Z.confirm({title:"Apakah anda yakin ingin menghapus dokumen ini ?",content:"data yang dihapus tidak dapat dikembalikan",onOk:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.oe)((0,x.JU)(b.db,"engineeringDocs",r.id));case 3:"id",t=S,C.length>1?(C.forEach((function(e){t=y.Z.deleteArrayRow(t,"id",e.id)})),D([])):t=y.Z.deleteArrayRow(t,"id",r.id),E(t),s.ZP.success("Document deleted successfully."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s.ZP.error("Error deleting document: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){s.ZP.info("Deletion cancelled.")}});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),P=[{title:"ID",dataIndex:"id",render:function(e,r,t){return t+1}},{title:"Comm System Deff No",dataIndex:"commSysDeffNo",sorter:function(e,r){return y.Z.antdTableSorter(e,r,"commSysDeffNo")}},{title:"Drawing Code",dataIndex:"drawingCodeName",sorter:function(e,r){return y.Z.antdTableSorter(e,r,"drawingCodeName")}},{title:"File Name",dataIndex:"drawingCodeName",sorter:function(e,r){return y.Z.antdTableSorter(e,r,"drawingCodeName")}},{title:"File Doc",dataIndex:"documentURL",render:function(e){return(0,k.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",download:!0,children:"View File"})},sorter:function(e,r){return y.Z.antdTableSorter(e,r,"documentURL")}},{title:"",dataIndex:"actions",render:function(e,r){return(0,k.jsx)("div",{className:"text-right",children:(0,k.jsx)(v.Z,{menu:(t=r,[{key:"edit",label:(0,k.jsxs)(h.Z,{alignItems:"center",onClick:function(){return J(t)},children:[(0,k.jsx)(p.Z,{}),(0,k.jsx)("span",{className:"ml-2",children:"Edit"})]})},{key:"delete",label:(0,k.jsxs)(h.Z,{alignItems:"center",onClick:function(){return L(t)},children:[(0,k.jsx)(m.Z,{}),(0,k.jsx)("span",{className:"ml-2",children:C.length>0?"Delete (".concat(C.length,")"):"Delete"})]})}])})});var t}}],F={onChange:function(e,r){D(r),A(e)}};return(0,k.jsxs)(l.Z,{children:[(0,k.jsxs)(h.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,k.jsx)(h.Z,{className:"mb-1",mobileFlex:!1,children:(0,k.jsx)("div",{className:"mr-md-3 mb-3"})}),(0,k.jsx)("div",{children:(0,k.jsx)(d.ZP,{onClick:function(){e("/app/apps/general-input/systemsub-drawing/systemsub-drawing-add")},type:"primary",icon:(0,k.jsx)(g.Z,{}),block:!0,children:"Add System/SubSystem Drawing"})})]}),(0,k.jsx)("div",{className:"table-responsive",children:(0,k.jsx)(f.Z,{columns:P,dataSource:S,rowKey:"id",rowSelection:(0,n.Z)({selectedRowKeys:R,type:"checkbox",preserveSelectedRowKeys:!1},F)})})]})}},1180:function(e,r,t){t.d(r,{Z:function(){return i}});var n=t(1413),a=t(2791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=t(4291),u=function(e,r){return a.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:c}))};u.displayName="EditOutlined";var i=a.forwardRef(u)}}]);
//# sourceMappingURL=1577.1c4bbc1e.chunk.js.map