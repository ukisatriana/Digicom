"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[3979],{1166:function(e,t,r){var n,a=r(168),c=r(9439),s=r(2791),o=r(364),u=r(2554),i=r(6443),p=r(4923);t.Z=function(e){var t=e.children,r=e.background,d=e.className,l=e.overlap,f=(0,s.useState)(0),m=(0,c.Z)(f,2),h=m[0],v=m[1],Z=(0,s.useRef)(null),x=(0,o.v9)((function(e){return e.theme.navType})),g=(0,o.v9)((function(e){return e.theme.currentTheme}));(0,s.useEffect)((function(){if(x===i.XA){var e=window.innerWidth,t=Z.current.offsetWidth;v((e-t)/2)}}),[x]);return(0,p.tZ)("div",{ref:Z,css:(0,u.iv)(n||(n=(0,a.Z)(["\n\t\t\t\tbackground-color: ",";\n\t\t\t\tpadding: ","px;\n\t\t\t\tmargin-top: -","px;\n\t\t\t\tmargin-left: -","px;\n\t\t\t\tmargin-right: -","px;\n\n\t\t\t\t@media "," {\n\t\t\t\t\tmargin-left: -","px;\n        \t\t\tmargin-right: -","px;\n\t\t\t\t}\n\n\t\t\t\t","\n\t\t\t"])),"dark"===g?"#2f3a50":i.wx.WHITE,i.hv.LAYOUT_CONTENT_GUTTER,i.hv.LAYOUT_CONTENT_GUTTER,i.hv.LAYOUT_CONTENT_GUTTER,i.hv.LAYOUT_CONTENT_GUTTER,i.qk.MOBILE,i.hv.LAYOUT_CONTENT_GUTTER_SM,i.hv.LAYOUT_CONTENT_GUTTER_SM,l?"margin-bottom: -4.6875rem;":""),className:"page-header-alt ".concat(d||""),style:function(){var e={backgroundImage:r?"url(".concat(r,")"):"none"};return x===i.XA&&(e.marginRight=-h,e.marginLeft=-h,e.paddingLeft=0,e.paddingRight=0),e}(),children:x===i.XA?(0,p.tZ)("div",{className:"container",children:t}):(0,p.tZ)(p.HY,{children:t})})}},8470:function(e,t,r){var n=r(1413),a=r(4236).Z.div((function(e){var t=e.justifyContent,r=e.alignItems,a=e.flexDirection,c=e.gap,s=e.padding,o=e.margin,u={display:"flex",justifyContent:t,alignItems:r,gap:"number"===typeof c?"".concat(c,"px"):c};return a&&(u.flexDirection=a),s&&(u.padding=s),o&&(u.margin=o),(0,n.Z)({},u)}));t.Z=a},4276:function(e,t,r){var n=r(4942),a=r(1413),c=r(4165),s=r(5861),o=r(5020),u=r(6724),i={};i.createDocument=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.ET)((0,u.hJ)(o.db,t),r);case 3:return n=e.sent,e.abrupt("return",n.id);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error adding document: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),i.getDocuments=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t){var r,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.PL)((0,u.hJ)(o.db,t));case 3:return r=e.sent,n=r.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error getting documents: "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i.getDocument=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r){var n,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,u.JU)(o.db,t,r),e.next=4,(0,u.QT)(n);case 4:if(!(a=e.sent).exists()){e.next=9;break}return e.abrupt("return",a.data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),i.updateDocument=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r,n){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,u.JU)(o.db,t,r),e.next=4,(0,u.r7)(a,n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}(),i.deleteDocument=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,u.JU)(o.db,t,r),e.next=4,(0,u.oe)(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error deleting document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),i.addToArray=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r,a,s){var i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,u.JU)(o.db,t,r),e.next=4,(0,u.r7)(i,(0,n.Z)({},a,(0,u.vr)(s)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error adding to array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),i.removeFromArray=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r,a,s){var i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,u.JU)(o.db,t,r),e.next=4,(0,u.r7)(i,(0,n.Z)({},a,(0,u.Ab)(s)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error removing from array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),i.updateNestedMap=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r,a,s,i){var p;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p=(0,u.JU)(o.db,t,r),e.next=4,(0,u.r7)(p,(0,n.Z)({},"".concat(a,".").concat(s),i));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating nested map: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),i.getDocumentByField=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(t,r,n){var a,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,u.IO)((0,u.hJ)(o.db,t),(0,u.ar)(r,"==",n)),e.next=4,(0,u.PL)(a);case 4:if((s=e.sent).empty){e.next=9;break}return e.abrupt("return",s.docs[0].data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t.Z=i},3979:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(4165),a=r(5861),c=r(9439),s=r(2791),o=r(1166),u=r(7615),i=r(6988),p=r(7309),d=r(3640),l=r(8470),f=r(4276),m=r(7689),h=r(4942),v=r(1413),Z=r(7888),x=r(6106),g=r(914),y=r(376),T=r(184),j={projectTypeNameR:[{required:!0,message:"Please enter project name"}],projectTypeKetR:[{required:!0,message:"Please enter project location"}]},w=function(){var e=s.useState({projectTypeName:"",projectTypeKet:""}),t=(0,c.Z)(e,2),r=t[0],n=t[1];function a(e){var t=e.target,a=t.name,c=t.value;n((0,v.Z)((0,v.Z)({},r),{},(0,h.Z)({},a,c)))}return(0,T.jsx)(Z.Z,{title:"Project Type",children:(0,T.jsxs)(x.Z,{gutter:16,children:[(0,T.jsx)(g.Z,{span:24,children:(0,T.jsx)(u.Z.Item,{name:"projectTypeName",label:"Project Type",rules:j.projectTypeNameR,children:(0,T.jsx)(y.Z,{placeholder:"Enter Project Name",type:"text",value:r.projectTypeName,name:"projectTypeName",onChange:function(e){return a(e)}})})}),(0,T.jsx)(g.Z,{span:24,children:(0,T.jsx)(u.Z.Item,{name:"projectTypeKet",label:"Project Type Desc",rules:j.projectTypeKetR,children:(0,T.jsx)(y.Z,{placeholder:"Enter Project Desc",type:"text",value:r.projectTypeKet,name:"projectTypeKet",onChange:function(e){return a(e)}})})})]})})},b="ADD",E="EDIT",k=function(e){var t=e.mode,r=void 0===t?b:t,h=e.param,v=u.Z.useForm(),Z=(0,c.Z)(v,1)[0],x=(0,s.useState)(!1),g=(0,c.Z)(x,2),y=g[0],j=g[1],k=(0,m.s0)();(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==E){e.next=12;break}return t=h.id,e.prev=2,e.next=5,f.Z.getDocument("projectType",t);case 5:a=e.sent,Z.setFieldsValue(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.ZP.error("Error fetching document: "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z,r,h]);var N=function(){j(!0),Z.validateFields().then((function(e){setTimeout((function(){j(!1),r===b&&(i.ZP.success("Created ".concat(e.projectTypeName," to projectType")),k("/app/apps/option/project-type/project-type-list")),r===E&&(i.ZP.success("Product saved"),k("/app/apps/option/project-type/project-type-list"))}),1500)})).catch((function(e){j(!1)}))},D=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r!==b){e.next=8;break}return e.next=4,f.Z.createDocument("projectType",t);case 4:a=e.sent,i.ZP.success("Project created with ID: ".concat(a)),e.next=13;break;case 8:if(r!==E){e.next=13;break}return c=h.id,e.next=12,f.Z.updateDocument("projectType",c,t);case 12:i.ZP.success("Project updated successfully");case 13:Z.resetFields(),N(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),i.ZP.error("Error creating/updating Jenis Clash: "+e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(u.Z,{layout:"vertical",form:Z,name:"advanced_search",className:"ant-advanced-search-form",initialValues:{projectTypeName:"",projectTypeKet:""},onFinish:D,children:[(0,T.jsx)(o.Z,{className:"border-bottom",overlap:!0,children:(0,T.jsx)("div",{className:"container",children:(0,T.jsxs)(l.Z,{className:"py-2",mobileFlex:!1,justifyContent:"space-between",alignItems:"center",children:[(0,T.jsxs)("h2",{className:"mb-3",children:["ADD"===r?"Add New Project Type":"Edit Product Type"," "]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(p.ZP,{className:"mr-2",onClick:function(){Z.resetFields()},children:"Discard"}),(0,T.jsx)(p.ZP,{type:"primary",onClick:function(){return N()},htmlType:"submit",loading:y,children:"ADD"===r?"Add":"Save"})]})]})})}),(0,T.jsx)("div",{className:"container",children:(0,T.jsx)(d.Z,{defaultActiveKey:"1",style:{marginTop:30},items:[{label:"Project Type Field",key:"1",children:(0,T.jsx)(w,{})}]})})]})})}},2554:function(e,t,r){r.d(t,{iv:function(){return a}});r(2791),r(6215),r(2110);var n=r(9041);r(2561);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.O)(t)}},4923:function(e,t,r){r.d(t,{BX:function(){return o},HY:function(){return c},tZ:function(){return s}});r(2791),r(6215);var n=r(9886),a=(r(2110),r(9041),r(2561),r(184)),c=a.Fragment;function s(e,t,r){return n.h.call(t,"css")?(0,a.jsx)(n.E,(0,n.c)(e,t),r):(0,a.jsx)(e,t,r)}function o(e,t,r){return n.h.call(t,"css")?(0,a.jsxs)(n.E,(0,n.c)(e,t),r):(0,a.jsxs)(e,t,r)}}}]);
//# sourceMappingURL=3979.c5c60f0e.chunk.js.map