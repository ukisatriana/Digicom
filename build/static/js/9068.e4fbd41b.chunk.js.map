{"version":3,"file":"static/js/9068.e4fbd41b.chunk.js","mappings":"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","sources":["views/auth-views/components/RegisterForm.js","views/auth-views/authentication/register/index.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\r\nimport { Button, Form, Input, Alert, Select } from \"antd\";\r\nimport { signUp, showAuthMessage, showLoading, hideAuthMessage } from 'store/slices/authSlice';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { motion } from \"framer-motion\"\r\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\"; \r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst rules = {\r\n\temail: [\r\n\t\t{ \r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please input your email address'\r\n\t\t},\r\n\t\t{ \r\n\t\t\ttype: 'email',\r\n\t\t\tmessage: 'Please enter a validate email!'\r\n\t\t}\r\n\t],\r\n\tpassword: [\r\n\t\t{ \r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please input your password'\r\n\t\t}\r\n\t],\r\n\tusernameR: [\r\n\t\t{ \r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please input your username'\r\n\t\t}\r\n\t],\r\n\tprojectNameR: [\r\n\t\t{ \r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please input your project name'\r\n\t\t}\r\n\t],\r\n\tconfirm: [\r\n\t\t{ \r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please confirm your password!'\r\n\t\t},\r\n\t\t({ getFieldValue }) => ({\r\n\t\t\tvalidator(_, value) {\r\n\t\t\t\tif (!value || getFieldValue('password') === value) {\r\n\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t}\r\n\t\t\t\treturn Promise.reject('Passwords do not match!');\r\n\t\t\t},\r\n\t\t})\r\n\t]\r\n}\r\n\r\n\r\nconst onSignUp = async () => {\r\n    Form.validateFields().then(async values => {\r\n        showLoading();\r\n        const auth = getAuth();\r\n        const db = getFirestore();\r\n\r\n        try {\r\n            const userCredential = await createUserWithEmailAndPassword(auth, values.email, values.password);\r\n            const userId = userCredential.user.uid;\r\n\r\n            // Simpan data pengguna ke Firestore\r\n            await setDoc(doc(db, \"users\", userId), {\r\n                email: values.email,\r\n                role: values.role,\r\n                username: values.username,\r\n                projectName: values.projectName\r\n            });\r\n\r\n            signUp(values); // Tindakan tambahan jika diperlukan\r\n        } catch (error) {\r\n            console.error(\"Error registering user:\", error);\r\n        }\r\n    });\r\n};\r\n\r\nconst selectRole =[ 'admin', 'user', 'owner', 'contractor', 'subcon' ]\r\n\r\nexport const RegisterForm = (props) => {\r\n\r\n\tconst { signUp, showLoading, token, loading, redirect, message, showMessage, hideAuthMessage, allowRedirect = true } = props\r\n\tconst [form] = Form.useForm();\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst onSignUp = () => {\r\n    \tform.validateFields().then(values => {\r\n\t\t\tshowLoading()\r\n\t\t\tsignUp(values)\r\n\t\t}).catch(info => {\r\n\t\t\tconsole.log('Validate Failed:', info);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token !== null && allowRedirect) {\r\n\t\t\tnavigate(redirect)\r\n\t\t}\r\n\t\tif (showMessage) {\r\n\t\t\tconst timer = setTimeout(() => hideAuthMessage(), 3000)\r\n\t\t\treturn () => {\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<motion.div \r\n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \r\n\t\t\t\tanimate={{ \r\n\t\t\t\t\topacity: showMessage ? 1 : 0,\r\n\t\t\t\t\tmarginBottom: showMessage ? 20 : 0 \r\n\t\t\t\t}}> \r\n\t\t\t\t<Alert type=\"error\" showIcon message={message}></Alert>\r\n\t\t\t</motion.div>\r\n\t\t\t<Form form={form} layout=\"vertical\" name=\"register-form\" onFinish={onSignUp}>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"username\" \r\n\t\t\t\t\tlabel=\"Nama Personel\" \r\n\t\t\t\t\trules={rules.usernameR}\r\n\t\t\t\t\thasFeedback\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder='input username' />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"projectName\" \r\n\t\t\t\t\tlabel=\"Project Name\" \r\n\t\t\t\t\trules={rules.projectNameR}\r\n\t\t\t\t\thasFeedback\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder='Input Project Name'/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"email\" \r\n\t\t\t\t\tlabel=\"Email\" \r\n\t\t\t\t\trules={rules.email}\r\n\t\t\t\t\thasFeedback\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tlabel=\"Password\" \r\n\t\t\t\t\trules={rules.password}\r\n\t\t\t\t\thasFeedback\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"confirm\" \r\n\t\t\t\t\tlabel=\"ConfirmPassword\" \r\n\t\t\t\t\trules={rules.confirm}\r\n\t\t\t\t\thasFeedback\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\tlabel=\"Role\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Please select your role'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Select placeholder=\"Select your role\">\r\n\t\t\t\t\t\t{selectRole.map((role, index) => (\r\n\t\t\t\t\t\t\t<Option key={index} value={role}>{role}</Option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\r\n\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n\tconst { loading, message, showMessage, token, redirect } = auth;\r\n  return { loading, message, showMessage, token, redirect }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsignUp,\r\n\tshowAuthMessage,\r\n\thideAuthMessage,\r\n\tshowLoading\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm)\r\n","import React from 'react'\r\nimport RegisterForm from '../../components/RegisterForm'\r\nimport { Card, Row, Col } from \"antd\";\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst backgroundStyle = {\r\n\tbackgroundImage: 'url(/img/others/img-17.jpg)',\r\n\tbackgroundRepeat: 'no-repeat',\r\n\tbackgroundSize: 'cover'\r\n}\r\n\r\nconst RegisterOne = props => {\r\n\tconst theme = useSelector(state => state.theme.currentTheme)\r\n\treturn (\r\n\t\t<div className=\"h-100\" style={backgroundStyle}>\r\n\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\r\n\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t<Col xs={20} sm={20} md={20} lg={7}>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={`/img/${theme === 'light' ? 'logoW.png': 'logoW-white.png'}`} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Create a new account:</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={20}>\r\n\t\t\t\t\t\t\t\t\t\t<RegisterForm {...props}/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RegisterOne\r\n"],"names":["Option","Select","rules","email","required","message","type","password","usernameR","projectNameR","confirm","getFieldValue","validator","_","value","Promise","reject","resolve","selectRole","mapDispatchToProps","signUp","showAuthMessage","hideAuthMessage","showLoading","connect","auth","loading","showMessage","token","redirect","props","allowRedirect","Form","form","navigate","useNavigate","useEffect","timer","setTimeout","clearTimeout","initial","opacity","marginBottom","animate","showIcon","layout","name","onFinish","validateFields","then","values","catch","info","console","log","label","hasFeedback","placeholder","prefix","MailOutlined","className","LockOutlined","map","role","index","htmlType","block","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","theme","useSelector","state","currentTheme","style","justify","xs","sm","md","lg","src","alt"],"sourceRoot":""}