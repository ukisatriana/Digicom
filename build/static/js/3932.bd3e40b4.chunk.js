"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[3932],{1166:function(e,n,t){var r,a=t(168),s=t(9439),c=t(2791),i=t(364),o=t(2554),u=t(6443),m=t(4923);n.Z=function(e){var n=e.children,t=e.background,f=e.className,d=e.overlap,l=(0,c.useState)(0),p=(0,s.Z)(l,2),h=p[0],v=p[1],Z=(0,c.useRef)(null),x=(0,i.v9)((function(e){return e.theme.navType})),g=(0,i.v9)((function(e){return e.theme.currentTheme}));(0,c.useEffect)((function(){if(x===u.XA){var e=window.innerWidth,n=Z.current.offsetWidth;v((e-n)/2)}}),[x]);return(0,m.tZ)("div",{ref:Z,css:(0,o.iv)(r||(r=(0,a.Z)(["\n\t\t\t\tbackground-color: ",";\n\t\t\t\tpadding: ","px;\n\t\t\t\tmargin-top: -","px;\n\t\t\t\tmargin-left: -","px;\n\t\t\t\tmargin-right: -","px;\n\n\t\t\t\t@media "," {\n\t\t\t\t\tmargin-left: -","px;\n        \t\t\tmargin-right: -","px;\n\t\t\t\t}\n\n\t\t\t\t","\n\t\t\t"])),"dark"===g?"#2f3a50":u.wx.WHITE,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.hv.LAYOUT_CONTENT_GUTTER,u.qk.MOBILE,u.hv.LAYOUT_CONTENT_GUTTER_SM,u.hv.LAYOUT_CONTENT_GUTTER_SM,d?"margin-bottom: -4.6875rem;":""),className:"page-header-alt ".concat(f||""),style:function(){var e={backgroundImage:t?"url(".concat(t,")"):"none"};return x===u.XA&&(e.marginRight=-h,e.marginLeft=-h,e.paddingLeft=0,e.paddingRight=0),e}(),children:x===u.XA?(0,m.tZ)("div",{className:"container",children:n}):(0,m.tZ)(m.HY,{children:n})})}},8470:function(e,n,t){var r=t(1413),a=t(4236).Z.div((function(e){var n=e.justifyContent,t=e.alignItems,a=e.flexDirection,s=e.gap,c=e.padding,i=e.margin,o={display:"flex",justifyContent:n,alignItems:t,gap:"number"===typeof s?"".concat(s,"px"):s};return a&&(o.flexDirection=a),c&&(o.padding=c),i&&(o.margin=i),(0,r.Z)({},o)}));n.Z=a},4276:function(e,n,t){var r=t(4942),a=t(1413),s=t(4165),c=t(5861),i=t(5020),o=t(6724),u={};u.createDocument=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.ET)((0,o.hJ)(i.db,n),t);case 3:return r=e.sent,e.abrupt("return",r.id);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error adding document: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),u.getDocuments=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.PL)((0,o.hJ)(i.db,n));case 3:return t=e.sent,r=t.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error getting documents: "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),u.getDocument=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,o.JU)(i.db,n,t),e.next=4,(0,o.QT)(r);case 4:if(!(a=e.sent).exists()){e.next=9;break}return e.abrupt("return",a.data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),u.updateDocument=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t,r){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.JU)(i.db,n,t),e.next=4,(0,o.r7)(a,r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r){return e.apply(this,arguments)}}(),u.deleteDocument=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,o.JU)(i.db,n,t),e.next=4,(0,o.oe)(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error deleting document: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}(),u.addToArray=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t,a,c){var u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,o.JU)(i.db,n,t),e.next=4,(0,o.r7)(u,(0,r.Z)({},a,(0,o.vr)(c)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error adding to array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r,a){return e.apply(this,arguments)}}(),u.removeFromArray=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t,a,c){var u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,o.JU)(i.db,n,t),e.next=4,(0,o.r7)(u,(0,r.Z)({},a,(0,o.Ab)(c)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error removing from array: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r,a){return e.apply(this,arguments)}}(),u.updateNestedMap=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t,a,c,u){var m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m=(0,o.JU)(i.db,n,t),e.next=4,(0,o.r7)(m,(0,r.Z)({},"".concat(a,".").concat(c),u));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error updating nested map: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r,a,s){return e.apply(this,arguments)}}(),u.getDocumentByField=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n,t,r){var a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.IO)((0,o.hJ)(i.db,n),(0,o.ar)(t,"==",r)),e.next=4,(0,o.PL)(a);case 4:if((c=e.sent).empty){e.next=9;break}return e.abrupt("return",c.docs[0].data());case 9:throw new Error("Document not found");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error fetching document: "+e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t,r){return e.apply(this,arguments)}}(),n.Z=u},3932:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(4165),a=t(5861),s=t(9439),c=t(2791),i=t(1166),o=t(7615),u=t(6988),m=t(7309),f=t(3640),d=t(8470),l=t(4276),p=t(7689),h=t(4942),v=t(1413),Z=t(6106),x=t(914),g=t(7888),y=t(376),b=t(8747),N=t(9286),D=t(184),w={commDeffNoR:[{required:!0,message:"Please enter Commissioning Definition No"}],commDeffNameR:[{required:!0,message:"Please enter Commissioning Definition Name"}],commDeffSubNo:[{required:!0,message:"Please enter Commissioning Definition Sub No"}],commDeffSubName:[{required:!0,message:"Please enter Commissioning Definition Sub Name"}]},S=function(){var e=c.useState({commSysDeffNo:"",commSysDeffName:"",commSysDeffSub:[{commSysDeffSubNo:"",commSysDeffSubName:""}]}),n=(0,s.Z)(e,2),t=n[0],r=n[1];function a(e){var n=e.target,a=n.name,s=n.value;r((0,v.Z)((0,v.Z)({},t),{},(0,h.Z)({},a,s)))}return(0,D.jsxs)(Z.Z,{gutter:16,children:[(0,D.jsx)(x.Z,{xs:24,sm:24,md:24,children:(0,D.jsxs)(g.Z,{title:"System",children:[(0,D.jsx)(o.Z.Item,{name:"commSysDeffNo",label:"Commissioning System Definition Number",rules:w.commDeffNoR,children:(0,D.jsx)(y.Z,{placeholder:"Enter Commissioning System Definition Number",type:"text",value:t.commSysDeffNo,name:"commSysDeffNo",onChange:function(e){return a(e)}})}),(0,D.jsx)(o.Z.Item,{name:"commSysDeffName",label:"Commissioning System Definition Name",rules:w.commDeffNameR,children:(0,D.jsx)(y.Z,{placeholder:"Enter Commissioning System Definition Name",type:"text",value:t.commSysDeffName,name:"commSysDeffName",onChange:function(e){return a(e)}})})]})}),(0,D.jsx)(x.Z,{xs:24,sm:24,md:24,children:(0,D.jsx)(g.Z,{title:"Subsystem",children:(0,D.jsx)(o.Z.List,{name:"commSysDeffSub",children:function(e,n){var t=n.add,r=n.remove;return(0,D.jsxs)("div",{className:"mt-3",children:[e.map((function(e,n){return(0,D.jsxs)(Z.Z,{gutter:16,children:[(0,D.jsx)(x.Z,{sm:24,md:11,children:(0,D.jsx)(o.Z.Item,(0,v.Z)((0,v.Z)({},e),{},{label:"Subsystem Number",name:[e.name,"commSysDeffSubNo"],onChange:function(e){return a(e)},className:"w-100",children:(0,D.jsx)(y.Z,{})}))}),(0,D.jsx)(x.Z,{sm:24,md:11,children:(0,D.jsx)(o.Z.Item,(0,v.Z)((0,v.Z)({},e),{},{label:"Subsystem Name",name:[e.name,"commSysDeffSubName"],onChange:function(e){return a(e)},className:"w-100",children:(0,D.jsx)(y.Z,{})}))}),(0,D.jsx)(x.Z,{sm:24,md:2,children:(0,D.jsx)(b.Z,{className:"mt-md-4 pt-md-3",onClick:function(){r(e.name)}})}),(0,D.jsx)(x.Z,{span:24,children:(0,D.jsx)("hr",{className:"mt-2"})})]},e.key)})),(0,D.jsx)(o.Z.Item,{children:(0,D.jsxs)(m.ZP,{type:"dashed",onClick:function(){t()},className:"w-100",children:[(0,D.jsx)(N.Z,{})," Add field"]})})]})}})})})]})},E="ADD",j="EDIT",k=function(e){var n=e.mode,t=void 0===n?E:n,h=e.param,v=o.Z.useForm(),Z=(0,s.Z)(v,1)[0],x=(0,c.useState)(!1),g=(0,s.Z)(x,2),y=g[0],b=g[1],N=(0,p.s0)();(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==j){e.next=12;break}return n=h.id,e.prev=2,e.next=5,l.Z.getDocument("commSysDeff",n);case 5:a=e.sent,Z.setFieldsValue(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u.ZP.error("Error fetching document: "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z,t,h]);var w=function(){b(!0),Z.validateFields().then((function(e){setTimeout((function(){b(!1),t===E&&(u.ZP.success("Created ".concat(e.commSysDeffName," to commSysDeff")),N("/app/apps/general-input/comm-deff/comm-deff-list")),t===j&&(u.ZP.success("Product saved"),N("/app/apps/general-input/comm-deff/comm-deff-list"))}))})).catch((function(e){b(!1)}))},k=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t!==E){e.next=8;break}return e.next=4,l.Z.createDocument("commSysDeff",n);case 4:a=e.sent,u.ZP.success("Comm System created with ID: ".concat(a)),e.next=13;break;case 8:if(t!==j){e.next=13;break}return s=h.id,e.next=12,l.Z.updateDocument("commSysDeff",s,n);case 12:u.ZP.success("Comm System updated successfully");case 13:Z.resetFields(),w(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),u.ZP.error("Error creating/updating Comm System Deff: "+e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(o.Z,{layout:"vertical",form:Z,name:"advanced_search",className:"ant-advanced-search-form",initialValues:{commSysDeffNo:"",commSysDeffName:"",commSysDeffSub:[{commSysDeffSubNo:"",commSysDeffSubName:""}]},onFinish:k,children:[(0,D.jsx)(i.Z,{className:"border-bottom",overlap:!0,children:(0,D.jsx)("div",{className:"container",children:(0,D.jsxs)(d.Z,{className:"py-2",mobileFlex:!1,justifyContent:"space-between",alignItems:"center",children:[(0,D.jsxs)("h2",{className:"mb-3",children:["ADD"===t?"Add Commissioning System Deff":"Edit Commissioning System Deff"," "]}),(0,D.jsxs)("div",{className:"mb-3",children:[(0,D.jsx)(m.ZP,{className:"mr-2",onClick:function(){Z.resetFields()},children:"Discard"}),(0,D.jsx)(m.ZP,{type:"primary",onClick:function(){return w()},htmlType:"submit",loading:y,children:"ADD"===t?"Add":"Save"})]})]})})}),(0,D.jsx)("div",{className:"container",children:(0,D.jsx)(f.Z,{defaultActiveKey:"1",style:{marginTop:30},items:[{label:"Project Type Field",key:"1",children:(0,D.jsx)(S,{})}]})})]})})}},8747:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),a=t(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},c=t(8711),i=function(e,n){return a.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:s}))};i.displayName="MinusCircleOutlined";var o=a.forwardRef(i)},2554:function(e,n,t){t.d(n,{iv:function(){return a}});t(2791),t(6215),t(2110);var r=t(9041);t(2561);function a(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.O)(n)}},4923:function(e,n,t){t.d(n,{BX:function(){return i},HY:function(){return s},tZ:function(){return c}});t(2791),t(6215);var r=t(9886),a=(t(2110),t(9041),t(2561),t(184)),s=a.Fragment;function c(e,n,t){return r.h.call(n,"css")?(0,a.jsx)(r.E,(0,r.c)(e,n),t):(0,a.jsx)(e,n,t)}function i(e,n,t){return r.h.call(n,"css")?(0,a.jsxs)(r.E,(0,r.c)(e,n),t):(0,a.jsxs)(e,n,t)}}}]);
//# sourceMappingURL=3932.bd3e40b4.chunk.js.map